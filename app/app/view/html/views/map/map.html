<div ng-init="vm.init();" ng-controller= "mapCtrl as vm">
  <scriptr-map
               sources-info="vm.sources"
               clustered-view="true"
               cluster-zoom="8"
               path-stroke-opacity="0.5"
               path-stroke-weight="10"
               summary-icons="vm.icons"
               api="app/api/getLatestDevices"
               api-params="{}"
               msg-tag="map"
               geofence-manager="false"
               bounce="true"
               selected-tracked-asset="{{vm.deviceKey}}"
               detailed-zoom-min="12"
               on-select-asset="vm.onSelectAsset"
               set-marker-icon="vm.setMarkerIcon"
               default-center="{{vm.defaultCenter}}"
               max-asset-points=1
               custom-default-info-window="infoWindowTemplate_generic"
               cluster-styles='[{"url":"https://convergia-cdn.s3.amazonaws.com/cluster-m1.png","width":53,"height":53,"anchor":[0,0],"textColor":"#ffffff","textSize":10,"iconAnchor":[15,48]}]' 
               >
    <info-window id="infoWindowTemplate_generic" template="/app/view/html/views/map/info_generic_new.html" max-width="600" max-height="700" style="position: relative"></info-window>
</scriptr-map>
</div>