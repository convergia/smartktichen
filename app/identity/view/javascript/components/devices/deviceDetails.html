
<!-- begin device form -->
<div id="detailwindow">
  <button ng-click="$ctrl.closeDetailWindow()" draggable="false" title="Close" aria-label="Close" type="button" class="gm-ui-hover-effect"><img src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224px%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23000000%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M19%206.41L17.59%205%2012%2010.59%206.41%205%205%206.41%2010.59%2012%205%2017.59%206.41%2019%2012%2013.41%2017.59%2019%2019%2017.59%2013.41%2012z%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%0A%3C%2Fsvg%3E%0A" style="pointer-events: none; display: block; width: 14px; height: 14px; margin: 8px;"></button>

  
<div class="col-xs-12 device-details" ng-init="$ctrl.listGroups()" >

  <h5 class="box-title text-uppercase fntmontessart">Device details</h5>

  <div ng-if="$ctrl.message" uib-alert ng-class="'alert-' + ( $ctrl.message.type || 'default')  + ' m10'" close="$ctrl.closeAlert()" dismiss-on-timeout="5000">{{$ctrl.message.content}}</div>
  <form novalidate class="simple-form" name="myForm">
    <div class="form-group">
      <label>Id</label>
      <input type="text" ng-model="$ctrl.device.id" name="id" class="form-control" required ng-readonly="$ctrl.isUpdate"/>
      <span ng-show="myForm.id.$dirty && myForm.id.$invalid">
        <span class="text-danger" ng-show="myForm.id.$error.required">Id is required.</span>
      </span>
    </div>
		<div class="form-group">
      <label>Longitude</label>
      <input type="text" ng-model="$ctrl.device.long" name="long" class="form-control"/>
    </div>
		<div class="form-group">
      <label>Latitude</label>
      <input type="text" ng-model="$ctrl.device.lat" name="lat" class="form-control" required/>
    </div>
    <div class="form-group">
      <label>Address</label>
      <textarea ng-model="$ctrl.device.address" class="form-control"></textarea>
    </div>
<!--    <div class="form-group">
      <label>Name</label>
      <input type="text" ng-model="$ctrl.device.name" name="name" class="form-control" required/>
      <span ng-show="myForm.name.$dirty && myForm.name.$invalid">
        <span class="text-danger" ng-show="myForm.name.$error.required">Name is required.</span>
      </span>
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea ng-model="$ctrl.device.description" class="form-control"></textarea>
    </div>
    <div class="form-group" ng-if="$ctrl.originalDevice.id != null">
      <div class="row">
        <label class="col-xs-12">Token</label>
        <div class="col-xs-11"><input type="text" value="{{$ctrl.token}}" name="name" class="form-control" required ng-readonly="true"/></div>
        <div class="pull-left mt10">
          <a ng-click="$ctrl.renewToken($ctrl.device.id, $ctrl.token)" class="pointer"><i class="fa fa-refresh" aria-hidden="true"></i></a>
        </div>
        <span ng-show="myForm.id.$dirty && myForm.id.$invalid" class="col-xs-12">
          <span class="text-danger" ng-show="myForm.Id.$error.required">Id is required.</span>
        </span>
      </div>
    </div>-->
    <!--<div class="form-group">
      <tags-input ng-model="$ctrl.device.groups" key-property="name" display-property="name" placeholder="groups"  add-from-autocomplete-only="true">
        <auto-complete source="$ctrl.filterGroups($query)" min-length="1"></auto-complete>
      </tags-input>
    </div>-->
    <div class="form-group">
      <input type="button" class="btn btn-primary" ng-click="$ctrl.reset(); myForm.$setPristine()"  value="Reset" ng-disabled="!$ctrl.isDeviceChanged()"/>
      <input type="button" class="btn btn-default" ng-click="$ctrl.submit()" value="Save"
             ng-disabled="myForm.name.$dirty && myForm.name.$invalid || myForm.id.$dirty && myForm.id.$invalid"/>
    </div>
  </form>
</div>
  
</div>
<!-- end device form -->