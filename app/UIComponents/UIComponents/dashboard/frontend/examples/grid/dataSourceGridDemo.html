<html ng-app="myApp">

<head>
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  
  <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- font awesome.css -->
    <script src="https://use.fontawesome.com/3d61d6959e.js"></script>
    <link href="//fonts.googleapis.com/css?family=Josefin+Sans|Montserrat" rel="stylesheet">
    <!-- font awesome.css -->
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-cookies.js"></script>
    <script src="//cdn.rawgit.com/gdi2290/angular-websocket/v1.0.9/angular-websocket.min.js"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap-tpls.min.js"></script>
  
    <script src="/UIComponents/httpProvider.js"></script>
    <script src="/UIComponents/wsProvider.js"></script>
    <script src="/UIComponents/config/scriptrTransport.js"></script>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/12.0.0/ag-grid.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/grid/grid.js"></script>
  
  <link rel="stylesheet" href="/UIComponents/dashboard/frontend/components/grid/grid.css">
</head>
  
<script>
    var myApp = angular.module('myApp', ["HttpClient", "WsClient", "Grid"]);
      myApp.config(wssConfig);
      myApp.config(httpsConfig);
      myApp.controller('testCtrl', function($scope) {
        var vm = this;
        vm.test = function(gridOptions) {
           var selectedRows = gridOptions.api.getSelectedRows();
           console.log(1, selectedRows);
        }
        vm.test2 = function(gridOptions) {
           var selectedRows = gridOptions.api.getSelectedRows();
           console.log("Cell value changed");
           console.log(1, selectedRows);
        }
      });
  		
  </script>
<body ng-controller="testCtrl as vm">

    
 <scriptr-grid columns-definition='[
    {headerName: "Country", field: "country", width: 120, rowGroup:true, hide:true},
    {headerName: "Year", field: "year", width: 90, rowGroup:true, hide:true},
    {headerName: "Sport", field: "sport", width: 110},
    {headerName: "Athlete", field: "athlete", width: 200},
    {headerName: "Gold", field: "gold", width: 100},
    {headerName: "Silver", field: "silver", width: 100},
    {headerName: "Bronze", field: "bronze", width: 100},
    {headerName: "Total", field: "total", width: 100},
    {headerName: "Age", field: "age", width: 90},
    {headerName: "Date", field: "date", width: 110}
]' 
           row-data='[{"athlete":"Michael Phelps","age":23,"country":"United States","year":2008,"date":"24/08/2008","sport":"Swimming","gold":8,"silver":0,"bronze":0,"total":8}]'
           add-params= "{'add' : 'test'}"
           edit-params= "{'edit' : 'test'}"
           delete-params= "{'delete': 'test'}"    
           msg-tag="grid"   
           enable-delete-row='true'
           row-model-type='virtual'
           pagination="true"    
           enable-add-row='true'
           cell-editable='true'
           enable-client-side-filter='true'
           enable-server-side-filter='true' 
           enable-client-side-sorting='true'
           enable-server-side-sorting='true'
           row-model-selection='multiple'
           pagination-page-size='5'
           on-selection-changed="vm.test"
           on-cell-value-changed="vm.test2"    
           transport='https'>
  </scriptr-grid>
</body>

</html>